{"version":3,"file":"static/js/774.365ba430.chunk.js","mappings":"+SAEMA,EAAW,+BACXC,EAAU,mCAEHC,EAAkB,mCAAG,oGACTC,EAAAA,EAAAA,IAAA,UAClBH,EADkB,uCACqBC,IAFZ,cAC1BG,EAD0B,yBAIzBA,EAASC,KAAKC,SAJW,2CAAH,qDAOlBC,EAAkB,mCAAG,WAAMC,GAAN,uFACTL,EAAAA,EAAAA,IAAA,UAClBH,EADkB,kBACAQ,EADA,oBACoBP,IAFX,cAC1BG,EAD0B,yBAIzBA,EAASC,MAJgB,2CAAH,sDAOlBI,EAAiB,mCAAG,WAAMD,GAAN,uFACRL,EAAAA,EAAAA,IAAA,UAClBH,EADkB,kBACAQ,EADA,4BAC4BP,IAFpB,cACzBG,EADyB,yBAIxBA,EAASC,KAAKC,SAJU,2CAAH,sDAOjBI,EAAgB,mCAAG,WAAMF,GAAN,uFACPL,EAAAA,EAAAA,IAAA,UAClBH,EADkB,kBACAQ,EADA,4BAC4BP,IAFrB,cACxBG,EADwB,yBAIvBA,EAASC,KAAKM,MAJS,2CAAH,sDAOhBC,EAAgB,mCAAG,WAAMC,GAAN,uFACPV,EAAAA,EAAAA,IAAA,UAClBH,EADkB,+BACaa,EADb,oBACmCZ,IAF5B,cACxBG,EADwB,yBAIvBA,EAASC,KAAKC,SAJS,2CAAH,qD,4EC/BhBQ,EAAS,WACpB,OACE,SAAC,KAAD,CACEC,SAAS,EACTC,OAAO,KACPC,MAAM,KACNC,UAAU,iBACVC,aAAc,CAAC,EACfC,aAAa,kBAGlB,C,qJCXYC,EAAiBC,EAAAA,GAAAA,MAAH,yYAoBdC,EAAmBD,EAAAA,GAAAA,OAAH,ukBAuBhBE,EAAaF,EAAAA,GAAAA,KAAH,gM,SCzBvB,EAdkB,SAAC,GAAkB,IAAhBG,EAAe,EAAfA,SACnB,OACE,UAACD,EAAD,CAAYC,SAAUA,EAAtB,WACE,SAACJ,EAAD,CACEK,KAAK,OACLC,KAAK,YACLC,WAAS,EACTC,YAAY,qBAEd,SAACN,EAAD,CAAkBG,KAAK,SAAvB,SAAgC,aAGrC,E,4CCiDD,EA5De,WAAO,IAAD,EACnB,GAAkCI,EAAAA,EAAAA,WAAS,GAA3C,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAS,UAAGF,EAAaG,IAAI,oBAApB,QAAoC,GACnD,GAA4BP,EAAAA,EAAAA,UAAS,IAArC,eAAOQ,EAAP,KAAeC,EAAf,KACMC,GAAWC,EAAAA,EAAAA,MAsCjB,OAvBAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAW,mCAAG,oGAEhBX,GAAa,GAFG,UAGKpB,EAAAA,EAAAA,IAAiBwB,GAHtB,OAGVE,EAHU,OAIhBC,EAAUD,GAJM,gDAMhBM,IAAAA,OAAAA,QAAwB,KAAMC,SANd,yBAQhBb,GAAa,GARG,4EAAH,qDAWjBW,GACD,GAAE,CAACP,KAWF,iCACE,SAAC,EAAD,CAAWX,SAtCM,SAAAqB,GACnBA,EAAEC,iBACF,IAAQC,EAAUF,EAAEG,OAAOC,SAASd,UAA5BY,MAIR,GAHKA,EAAMG,QACTC,MAAM,oBAEM,KAAVJ,EACF,OAAOb,EAAgB,CAAC,GAE1BA,EAAgB,CAAEC,UAAWY,IAC7BF,EAAEG,OAAOI,OACV,IA4BItB,IAAa,SAACjB,EAAA,EAAD,KACd,wBACGwB,EAAOgB,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OACV,yBACE,SAAC,KAAD,CAAMC,GAAE,kBAAaF,GAAMG,MAAO,CAAEC,KAAMnB,GAA1C,SACGgB,KAFID,EADC,QAUnB,C","sources":["Api/getApi.js","components/Loader/Loader.jsx","components/SearchBox/SearchBox.styled.js","components/SearchBox/SearchBox.jsx","pages/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'fbcd27110e3ea351d2ea352461b15e7c';\n\nexport const fetchPopularMovies = async () => {\n  const response = await axios.get(\n    `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`\n  );\n  return response.data.results;\n};\n\nexport const fetchFullInfoMovie = async searchId => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${searchId}?api_key=${API_KEY}`\n  );\n  return response.data;\n};\n\nexport const fetchReviewsMovie = async searchId => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${searchId}/reviews?api_key=${API_KEY}`\n  );\n  return response.data.results;\n};\n\nexport const fetchActorsMovie = async searchId => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${searchId}/credits?api_key=${API_KEY}`\n  );\n  return response.data.cast;\n};\n\nexport const fetchMovieByName = async searchName => {\n  const response = await axios.get(\n    `${BASE_URL}/search/movie?query=${searchName}&api_key=${API_KEY}`\n  );\n  return response.data.results;\n};\n","import { Blocks } from 'react-loader-spinner';\n\nexport const Loader = () => {\n  return (\n    <Blocks\n      visible={true}\n      height=\"80\"\n      width=\"80\"\n      ariaLabel=\"blocks-loading\"\n      wrapperStyle={{}}\n      wrapperClass=\"blocks-wrapper\"\n    />\n  );\n};\n","import styled from 'styled-components';\n\nexport const InputNameMovie = styled.input`\n  display: inline-block;\n  width: 50%;\n  padding: 8px;\n  font: inherit;\n  font-size: 20px;\n  border: 1px solid grey;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n  box-shadow: 3px 3px 5px 2px rgba(0, 0, 0, 0.3);\n  border-radius: 3px;\n  opacity: 0.7;\n\n  &:hover {\n    opacity: 1;\n    box-shadow: 10px 10px 8px 2px rgba(0, 0, 0, 0.3);\n  }\n`;\n\nexport const SearchFormButton = styled.button`\n  display: inline-block;\n  width: 70px;\n  height: 40px;\n  margin-left: 10px;\n  border: 1px solid grey;\n  background-image: url('https://image.flaticon.com/icons/svg/149/149852.svg');\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.7;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  box-shadow: 3px 3px 5px 2px rgba(0, 0, 0, 0.3);\n  border-radius: 3px;\n\n  &:hover {\n    opacity: 1;\n    box-shadow: 10px 10px 8px 2px rgba(0, 0, 0, 0.3);\n  }\n`;\n\nexport const SearchForm = styled.form`\n  display: flex;\n  align-items: center;\n  padding: 10px;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n`;\n","import {\n  InputNameMovie,\n  SearchForm,\n  SearchFormButton,\n} from './SearchBox.styled';\n\nconst SearchBox = ({ onSubmit }) => {\n  return (\n    <SearchForm onSubmit={onSubmit}>\n      <InputNameMovie\n        type=\"text\"\n        name=\"movieName\"\n        autoFocus\n        placeholder=\"example: Batman\"\n      />\n      <SearchFormButton type=\"submit\">Search</SearchFormButton>\n    </SearchForm>\n  );\n};\n\nexport default SearchBox;\n","import { fetchMovieByName } from 'Api/getApi';\nimport { Loader } from 'components/Loader/Loader';\nimport SearchBox from 'components/SearchBox/SearchBox';\nimport Notiflix from 'notiflix';\nimport { useEffect, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\n\nconst Movies = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const movieName = searchParams.get('movieName') ?? '';\n  const [movies, setMovies] = useState([]);\n  const location = useLocation();\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const { value } = e.target.elements.movieName;\n    if (!value.trim()) {\n      alert('Input movie name');\n    }\n    if (value === '') {\n      return setSearchParams({});\n    }\n    setSearchParams({ movieName: value });\n    e.target.reset();\n  };\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      try {\n        setIsLoading(true);\n        const movies = await fetchMovieByName(movieName);\n        setMovies(movies);\n      } catch (error) {\n        Notiflix.Notify.failure(error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchMovies();\n  }, [movieName]);\n\n  // const updateQueryString = evt => {\n  //   const movieIdValue = evt.target.value;\n  //   if (movieIdValue === '') {\n  //     return setSearchParams({});\n  //   }\n  //   setSearchParams({ movieId: movieIdValue });\n  // };\n\n  return (\n    <>\n      <SearchBox onSubmit={handleSubmit} />\n      {isLoading && <Loader />}\n      <ul>\n        {movies.map(({ id, title }) => (\n          <li key={id}>\n            <Link to={`/movies/${id}`} state={{ from: location }}>\n              {title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["BASE_URL","API_KEY","fetchPopularMovies","axios","response","data","results","fetchFullInfoMovie","searchId","fetchReviewsMovie","fetchActorsMovie","cast","fetchMovieByName","searchName","Loader","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","InputNameMovie","styled","SearchFormButton","SearchForm","onSubmit","type","name","autoFocus","placeholder","useState","isLoading","setIsLoading","useSearchParams","searchParams","setSearchParams","movieName","get","movies","setMovies","location","useLocation","useEffect","fetchMovies","Notiflix","message","e","preventDefault","value","target","elements","trim","alert","reset","map","id","title","to","state","from"],"sourceRoot":""}